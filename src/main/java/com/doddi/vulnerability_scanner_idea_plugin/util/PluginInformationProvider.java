package com.doddi.vulnerability_scanner_idea_plugin.util;

import com.intellij.ide.plugins.IdeaPluginDescriptor;
import com.intellij.ide.plugins.PluginManagerCore;
import com.intellij.ide.plugins.cl.PluginClassLoader;
import com.intellij.openapi.extensions.PluginId;

public class PluginInformationProvider
{
  private final String name;

  private final String version;

  public PluginInformationProvider() {
    PluginId pid = ((PluginClassLoader)getClass().getClassLoader()).getPluginId();
    IdeaPluginDescriptor pd = PluginManagerCore.getPlugin(pid);

    assert pd != null;
    name = pd.getName();
    version = pd.getVersion();
  }

  public String getName() {
    return name;
  }

  public String getVersion() {
    return version;
  }
}
